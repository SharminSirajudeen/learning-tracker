<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sharmin's FAANG/Anthropic Training</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöÄ</text></svg>">
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect, useCallback, useRef } = React;

    // =====================================================
    // GOOGLE CLOUD CONFIGURATION
    // =====================================================
    // Replace with your Google Cloud OAuth Client ID
    // Instructions to get this are below the code
    const GOOGLE_CLIENT_ID = '1056096262902-gssdtjv84ftcfos8dr4v502f5632e326.apps.googleusercontent.com';
    // =====================================================

    const STORAGE_KEY = 'sharmin-training-v5';
    const DRIVE_FILE_NAME = 'sharmin-training-progress.json';

    // Icons
    const CheckCircle = ({ size = 20, className = "" }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/>
      </svg>
    );
    const Circle = ({ size = 20 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/></svg>
    );
    const ChevronDown = ({ size = 20 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="6 9 12 15 18 9"/></svg>
    );
    const ChevronRight = ({ size = 20 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="9 18 15 12 9 6"/></svg>
    );
    const ExternalLink = ({ size = 14 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/>
      </svg>
    );
    const Play = ({ size = 14 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
    );
    const CloudSync = ({ size = 16, className = "" }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
        <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/>
      </svg>
    );

    const initialProgress = {
      version: 5,
      currentWeek: 1,
      startDate: new Date().toISOString(),
      lastUpdated: new Date().toISOString(),
      lastLogin: null,
      dsa: { patterns: {}, problemsSolved: 0 },
      math: { topics: {} },
      ml: { courses: {} },
      ghost: { milestones: {} }
    };

    // DSA Patterns - Complete 14 patterns with 92 problems
    const DSA_PATTERNS = [
      {
        id: 'arrays-hashing', name: 'Arrays & Hashing', week: 1,
        tip: 'Think: Can I use a HashMap to trade space for time?',
        problems: [
          { id: 'two-sum', name: 'Two Sum', difficulty: 'Easy', leetcode: '1', url: 'https://leetcode.com/problems/two-sum/' },
          { id: 'contains-duplicate', name: 'Contains Duplicate', difficulty: 'Easy', leetcode: '217', url: 'https://leetcode.com/problems/contains-duplicate/' },
          { id: 'valid-anagram', name: 'Valid Anagram', difficulty: 'Easy', leetcode: '242', url: 'https://leetcode.com/problems/valid-anagram/' },
          { id: 'group-anagrams', name: 'Group Anagrams', difficulty: 'Medium', leetcode: '49', url: 'https://leetcode.com/problems/group-anagrams/' },
          { id: 'top-k-frequent', name: 'Top K Frequent Elements', difficulty: 'Medium', leetcode: '347', url: 'https://leetcode.com/problems/top-k-frequent-elements/' },
          { id: 'product-except-self', name: 'Product of Array Except Self', difficulty: 'Medium', leetcode: '238', url: 'https://leetcode.com/problems/product-of-array-except-self/' },
          { id: 'valid-sudoku', name: 'Valid Sudoku', difficulty: 'Medium', leetcode: '36', url: 'https://leetcode.com/problems/valid-sudoku/' },
          { id: 'encode-decode', name: 'Encode and Decode Strings', difficulty: 'Medium', leetcode: '271', url: 'https://leetcode.com/problems/encode-and-decode-strings/' },
          { id: 'longest-consecutive', name: 'Longest Consecutive Sequence', difficulty: 'Medium', leetcode: '128', url: 'https://leetcode.com/problems/longest-consecutive-sequence/' }
        ]
      },
      {
        id: 'two-pointers', name: 'Two Pointers', week: 1,
        tip: 'Use when: sorted array OR finding pairs/triplets',
        problems: [
          { id: 'valid-palindrome', name: 'Valid Palindrome', difficulty: 'Easy', leetcode: '125', url: 'https://leetcode.com/problems/valid-palindrome/' },
          { id: 'two-sum-ii', name: 'Two Sum II', difficulty: 'Medium', leetcode: '167', url: 'https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/' },
          { id: '3sum', name: '3Sum', difficulty: 'Medium', leetcode: '15', url: 'https://leetcode.com/problems/3sum/' },
          { id: 'container-water', name: 'Container With Most Water', difficulty: 'Medium', leetcode: '11', url: 'https://leetcode.com/problems/container-with-most-water/' },
          { id: 'trapping-rain', name: 'Trapping Rain Water', difficulty: 'Hard', leetcode: '42', url: 'https://leetcode.com/problems/trapping-rain-water/' }
        ]
      },
      {
        id: 'sliding-window', name: 'Sliding Window', week: 2,
        tip: 'Use when: contiguous subarray/substring with constraint',
        problems: [
          { id: 'max-profit', name: 'Best Time to Buy/Sell Stock', difficulty: 'Easy', leetcode: '121', url: 'https://leetcode.com/problems/best-time-to-buy-and-sell-stock/' },
          { id: 'longest-substring', name: 'Longest Substring Without Repeating', difficulty: 'Medium', leetcode: '3', url: 'https://leetcode.com/problems/longest-substring-without-repeating-characters/' },
          { id: 'longest-repeating', name: 'Longest Repeating Character Replacement', difficulty: 'Medium', leetcode: '424', url: 'https://leetcode.com/problems/longest-repeating-character-replacement/' },
          { id: 'permutation-string', name: 'Permutation in String', difficulty: 'Medium', leetcode: '567', url: 'https://leetcode.com/problems/permutation-in-string/' },
          { id: 'min-window', name: 'Minimum Window Substring', difficulty: 'Hard', leetcode: '76', url: 'https://leetcode.com/problems/minimum-window-substring/' },
          { id: 'sliding-window-max', name: 'Sliding Window Maximum', difficulty: 'Hard', leetcode: '239', url: 'https://leetcode.com/problems/sliding-window-maximum/' }
        ]
      },
      {
        id: 'stack', name: 'Stack', week: 2,
        tip: 'Use when: matching pairs, monotonic sequences, "next greater"',
        problems: [
          { id: 'valid-parentheses', name: 'Valid Parentheses', difficulty: 'Easy', leetcode: '20', url: 'https://leetcode.com/problems/valid-parentheses/' },
          { id: 'min-stack', name: 'Min Stack', difficulty: 'Medium', leetcode: '155', url: 'https://leetcode.com/problems/min-stack/' },
          { id: 'eval-rpn', name: 'Evaluate Reverse Polish Notation', difficulty: 'Medium', leetcode: '150', url: 'https://leetcode.com/problems/evaluate-reverse-polish-notation/' },
          { id: 'generate-parentheses', name: 'Generate Parentheses', difficulty: 'Medium', leetcode: '22', url: 'https://leetcode.com/problems/generate-parentheses/' },
          { id: 'daily-temps', name: 'Daily Temperatures', difficulty: 'Medium', leetcode: '739', url: 'https://leetcode.com/problems/daily-temperatures/' },
          { id: 'car-fleet', name: 'Car Fleet', difficulty: 'Medium', leetcode: '853', url: 'https://leetcode.com/problems/car-fleet/' },
          { id: 'largest-rectangle', name: 'Largest Rectangle in Histogram', difficulty: 'Hard', leetcode: '84', url: 'https://leetcode.com/problems/largest-rectangle-in-histogram/' }
        ]
      },
      {
        id: 'binary-search', name: 'Binary Search', week: 3,
        tip: 'Use when: sorted data OR search space can be halved',
        problems: [
          { id: 'binary-search', name: 'Binary Search', difficulty: 'Easy', leetcode: '704', url: 'https://leetcode.com/problems/binary-search/' },
          { id: 'search-matrix', name: 'Search a 2D Matrix', difficulty: 'Medium', leetcode: '74', url: 'https://leetcode.com/problems/search-a-2d-matrix/' },
          { id: 'koko-bananas', name: 'Koko Eating Bananas', difficulty: 'Medium', leetcode: '875', url: 'https://leetcode.com/problems/koko-eating-bananas/' },
          { id: 'find-min-rotated', name: 'Find Min in Rotated Array', difficulty: 'Medium', leetcode: '153', url: 'https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/' },
          { id: 'search-rotated', name: 'Search in Rotated Sorted Array', difficulty: 'Medium', leetcode: '33', url: 'https://leetcode.com/problems/search-in-rotated-sorted-array/' },
          { id: 'time-based-kv', name: 'Time Based Key-Value Store', difficulty: 'Medium', leetcode: '981', url: 'https://leetcode.com/problems/time-based-key-value-store/' },
          { id: 'median-two-arrays', name: 'Median of Two Sorted Arrays', difficulty: 'Hard', leetcode: '4', url: 'https://leetcode.com/problems/median-of-two-sorted-arrays/' }
        ]
      },
      {
        id: 'linked-list', name: 'Linked List', week: 3,
        tip: 'Master: reverse, cycle detection, find middle, merge',
        problems: [
          { id: 'reverse-list', name: 'Reverse Linked List', difficulty: 'Easy', leetcode: '206', url: 'https://leetcode.com/problems/reverse-linked-list/' },
          { id: 'merge-two-lists', name: 'Merge Two Sorted Lists', difficulty: 'Easy', leetcode: '21', url: 'https://leetcode.com/problems/merge-two-sorted-lists/' },
          { id: 'linked-cycle', name: 'Linked List Cycle', difficulty: 'Easy', leetcode: '141', url: 'https://leetcode.com/problems/linked-list-cycle/' },
          { id: 'reorder-list', name: 'Reorder List', difficulty: 'Medium', leetcode: '143', url: 'https://leetcode.com/problems/reorder-list/' },
          { id: 'remove-nth', name: 'Remove Nth Node From End', difficulty: 'Medium', leetcode: '19', url: 'https://leetcode.com/problems/remove-nth-node-from-end-of-list/' },
          { id: 'copy-random', name: 'Copy List with Random Pointer', difficulty: 'Medium', leetcode: '138', url: 'https://leetcode.com/problems/copy-list-with-random-pointer/' },
          { id: 'add-two-numbers', name: 'Add Two Numbers', difficulty: 'Medium', leetcode: '2', url: 'https://leetcode.com/problems/add-two-numbers/' },
          { id: 'find-duplicate', name: 'Find the Duplicate Number', difficulty: 'Medium', leetcode: '287', url: 'https://leetcode.com/problems/find-the-duplicate-number/' },
          { id: 'lru-cache', name: 'LRU Cache', difficulty: 'Medium', leetcode: '146', url: 'https://leetcode.com/problems/lru-cache/' },
          { id: 'merge-k-lists', name: 'Merge k Sorted Lists', difficulty: 'Hard', leetcode: '23', url: 'https://leetcode.com/problems/merge-k-sorted-lists/' },
          { id: 'reverse-k-group', name: 'Reverse Nodes in k-Group', difficulty: 'Hard', leetcode: '25', url: 'https://leetcode.com/problems/reverse-nodes-in-k-group/' }
        ]
      },
      {
        id: 'trees', name: 'Trees', week: 4,
        tip: 'Think recursively: left subtree ‚Üí right subtree ‚Üí combine',
        problems: [
          { id: 'invert-tree', name: 'Invert Binary Tree', difficulty: 'Easy', leetcode: '226', url: 'https://leetcode.com/problems/invert-binary-tree/' },
          { id: 'max-depth', name: 'Maximum Depth of Binary Tree', difficulty: 'Easy', leetcode: '104', url: 'https://leetcode.com/problems/maximum-depth-of-binary-tree/' },
          { id: 'diameter-tree', name: 'Diameter of Binary Tree', difficulty: 'Easy', leetcode: '543', url: 'https://leetcode.com/problems/diameter-of-binary-tree/' },
          { id: 'balanced-tree', name: 'Balanced Binary Tree', difficulty: 'Easy', leetcode: '110', url: 'https://leetcode.com/problems/balanced-binary-tree/' },
          { id: 'same-tree', name: 'Same Tree', difficulty: 'Easy', leetcode: '100', url: 'https://leetcode.com/problems/same-tree/' },
          { id: 'subtree', name: 'Subtree of Another Tree', difficulty: 'Easy', leetcode: '572', url: 'https://leetcode.com/problems/subtree-of-another-tree/' },
          { id: 'lca-bst', name: 'LCA of BST', difficulty: 'Medium', leetcode: '235', url: 'https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-search-tree/' },
          { id: 'level-order', name: 'Level Order Traversal', difficulty: 'Medium', leetcode: '102', url: 'https://leetcode.com/problems/binary-tree-level-order-traversal/' },
          { id: 'right-side-view', name: 'Binary Tree Right Side View', difficulty: 'Medium', leetcode: '199', url: 'https://leetcode.com/problems/binary-tree-right-side-view/' },
          { id: 'good-nodes', name: 'Count Good Nodes in Binary Tree', difficulty: 'Medium', leetcode: '1448', url: 'https://leetcode.com/problems/count-good-nodes-in-binary-tree/' },
          { id: 'valid-bst', name: 'Validate BST', difficulty: 'Medium', leetcode: '98', url: 'https://leetcode.com/problems/validate-binary-search-tree/' },
          { id: 'kth-smallest-bst', name: 'Kth Smallest Element in BST', difficulty: 'Medium', leetcode: '230', url: 'https://leetcode.com/problems/kth-smallest-element-in-a-bst/' },
          { id: 'build-tree', name: 'Construct Tree from Preorder/Inorder', difficulty: 'Medium', leetcode: '105', url: 'https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/' },
          { id: 'max-path-sum', name: 'Binary Tree Maximum Path Sum', difficulty: 'Hard', leetcode: '124', url: 'https://leetcode.com/problems/binary-tree-maximum-path-sum/' },
          { id: 'serialize-tree', name: 'Serialize/Deserialize Tree', difficulty: 'Hard', leetcode: '297', url: 'https://leetcode.com/problems/serialize-and-deserialize-binary-tree/' }
        ]
      },
      {
        id: 'tries', name: 'Tries', week: 5,
        tip: 'Use when: prefix matching, autocomplete, dictionary',
        problems: [
          { id: 'implement-trie', name: 'Implement Trie', difficulty: 'Medium', leetcode: '208', url: 'https://leetcode.com/problems/implement-trie-prefix-tree/' },
          { id: 'add-search-word', name: 'Add and Search Word', difficulty: 'Medium', leetcode: '211', url: 'https://leetcode.com/problems/design-add-and-search-words-data-structure/' },
          { id: 'word-search-ii', name: 'Word Search II', difficulty: 'Hard', leetcode: '212', url: 'https://leetcode.com/problems/word-search-ii/' }
        ]
      },
      {
        id: 'heap', name: 'Heap / Priority Queue', week: 5,
        tip: 'Use when: "K largest/smallest", streaming, scheduling',
        problems: [
          { id: 'kth-largest-stream', name: 'Kth Largest in Stream', difficulty: 'Easy', leetcode: '703', url: 'https://leetcode.com/problems/kth-largest-element-in-a-stream/' },
          { id: 'last-stone', name: 'Last Stone Weight', difficulty: 'Easy', leetcode: '1046', url: 'https://leetcode.com/problems/last-stone-weight/' },
          { id: 'k-closest', name: 'K Closest Points', difficulty: 'Medium', leetcode: '973', url: 'https://leetcode.com/problems/k-closest-points-to-origin/' },
          { id: 'kth-largest', name: 'Kth Largest in Array', difficulty: 'Medium', leetcode: '215', url: 'https://leetcode.com/problems/kth-largest-element-in-an-array/' },
          { id: 'task-scheduler', name: 'Task Scheduler', difficulty: 'Medium', leetcode: '621', url: 'https://leetcode.com/problems/task-scheduler/' },
          { id: 'design-twitter', name: 'Design Twitter', difficulty: 'Medium', leetcode: '355', url: 'https://leetcode.com/problems/design-twitter/' },
          { id: 'find-median', name: 'Find Median from Stream', difficulty: 'Hard', leetcode: '295', url: 'https://leetcode.com/problems/find-median-from-data-stream/' }
        ]
      },
      {
        id: 'backtracking', name: 'Backtracking', week: 6,
        tip: 'Template: choose ‚Üí explore ‚Üí unchoose',
        problems: [
          { id: 'subsets', name: 'Subsets', difficulty: 'Medium', leetcode: '78', url: 'https://leetcode.com/problems/subsets/' },
          { id: 'combination-sum', name: 'Combination Sum', difficulty: 'Medium', leetcode: '39', url: 'https://leetcode.com/problems/combination-sum/' },
          { id: 'permutations', name: 'Permutations', difficulty: 'Medium', leetcode: '46', url: 'https://leetcode.com/problems/permutations/' },
          { id: 'subsets-ii', name: 'Subsets II', difficulty: 'Medium', leetcode: '90', url: 'https://leetcode.com/problems/subsets-ii/' },
          { id: 'combination-sum-ii', name: 'Combination Sum II', difficulty: 'Medium', leetcode: '40', url: 'https://leetcode.com/problems/combination-sum-ii/' },
          { id: 'word-search', name: 'Word Search', difficulty: 'Medium', leetcode: '79', url: 'https://leetcode.com/problems/word-search/' },
          { id: 'palindrome-partition', name: 'Palindrome Partitioning', difficulty: 'Medium', leetcode: '131', url: 'https://leetcode.com/problems/palindrome-partitioning/' },
          { id: 'letter-combinations', name: 'Letter Combinations of Phone', difficulty: 'Medium', leetcode: '17', url: 'https://leetcode.com/problems/letter-combinations-of-a-phone-number/' },
          { id: 'n-queens', name: 'N-Queens', difficulty: 'Hard', leetcode: '51', url: 'https://leetcode.com/problems/n-queens/' }
        ]
      },
      {
        id: 'graphs', name: 'Graphs', week: 7,
        tip: 'BFS = shortest path, DFS = explore all paths',
        problems: [
          { id: 'num-islands', name: 'Number of Islands', difficulty: 'Medium', leetcode: '200', url: 'https://leetcode.com/problems/number-of-islands/' },
          { id: 'clone-graph', name: 'Clone Graph', difficulty: 'Medium', leetcode: '133', url: 'https://leetcode.com/problems/clone-graph/' },
          { id: 'max-area-island', name: 'Max Area of Island', difficulty: 'Medium', leetcode: '695', url: 'https://leetcode.com/problems/max-area-of-island/' },
          { id: 'pacific-atlantic', name: 'Pacific Atlantic Water Flow', difficulty: 'Medium', leetcode: '417', url: 'https://leetcode.com/problems/pacific-atlantic-water-flow/' },
          { id: 'surrounded-regions', name: 'Surrounded Regions', difficulty: 'Medium', leetcode: '130', url: 'https://leetcode.com/problems/surrounded-regions/' },
          { id: 'rotten-oranges', name: 'Rotting Oranges', difficulty: 'Medium', leetcode: '994', url: 'https://leetcode.com/problems/rotting-oranges/' },
          { id: 'walls-gates', name: 'Walls and Gates', difficulty: 'Medium', leetcode: '286', url: 'https://leetcode.com/problems/walls-and-gates/' },
          { id: 'course-schedule', name: 'Course Schedule', difficulty: 'Medium', leetcode: '207', url: 'https://leetcode.com/problems/course-schedule/' },
          { id: 'course-schedule-ii', name: 'Course Schedule II', difficulty: 'Medium', leetcode: '210', url: 'https://leetcode.com/problems/course-schedule-ii/' },
          { id: 'graph-valid-tree', name: 'Graph Valid Tree', difficulty: 'Medium', leetcode: '261', url: 'https://leetcode.com/problems/graph-valid-tree/' },
          { id: 'num-connected', name: 'Number of Connected Components', difficulty: 'Medium', leetcode: '323', url: 'https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/' },
          { id: 'redundant-connection', name: 'Redundant Connection', difficulty: 'Medium', leetcode: '684', url: 'https://leetcode.com/problems/redundant-connection/' },
          { id: 'word-ladder', name: 'Word Ladder', difficulty: 'Hard', leetcode: '127', url: 'https://leetcode.com/problems/word-ladder/' }
        ]
      },
      {
        id: 'advanced-graphs', name: 'Advanced Graphs', week: 8,
        tip: 'Dijkstra = weighted paths, Union-Find = connectivity',
        problems: [
          { id: 'min-cost-connect', name: 'Min Cost to Connect All Points', difficulty: 'Medium', leetcode: '1584', url: 'https://leetcode.com/problems/min-cost-to-connect-all-points/' },
          { id: 'network-delay', name: 'Network Delay Time', difficulty: 'Medium', leetcode: '743', url: 'https://leetcode.com/problems/network-delay-time/' },
          { id: 'cheapest-flights', name: 'Cheapest Flights K Stops', difficulty: 'Medium', leetcode: '787', url: 'https://leetcode.com/problems/cheapest-flights-within-k-stops/' },
          { id: 'reconstruct-itinerary', name: 'Reconstruct Itinerary', difficulty: 'Hard', leetcode: '332', url: 'https://leetcode.com/problems/reconstruct-itinerary/' },
          { id: 'swim-rising', name: 'Swim in Rising Water', difficulty: 'Hard', leetcode: '778', url: 'https://leetcode.com/problems/swim-in-rising-water/' },
          { id: 'alien-dictionary', name: 'Alien Dictionary', difficulty: 'Hard', leetcode: '269', url: 'https://leetcode.com/problems/alien-dictionary/' }
        ]
      },
      {
        id: 'dp-1d', name: '1-D Dynamic Programming', week: 9,
        tip: 'What decision at each step? What state to track?',
        problems: [
          { id: 'climbing-stairs', name: 'Climbing Stairs', difficulty: 'Easy', leetcode: '70', url: 'https://leetcode.com/problems/climbing-stairs/' },
          { id: 'min-cost-climbing', name: 'Min Cost Climbing Stairs', difficulty: 'Easy', leetcode: '746', url: 'https://leetcode.com/problems/min-cost-climbing-stairs/' },
          { id: 'house-robber', name: 'House Robber', difficulty: 'Medium', leetcode: '198', url: 'https://leetcode.com/problems/house-robber/' },
          { id: 'house-robber-ii', name: 'House Robber II', difficulty: 'Medium', leetcode: '213', url: 'https://leetcode.com/problems/house-robber-ii/' },
          { id: 'longest-palindrome', name: 'Longest Palindromic Substring', difficulty: 'Medium', leetcode: '5', url: 'https://leetcode.com/problems/longest-palindromic-substring/' },
          { id: 'palindromic-substrings', name: 'Palindromic Substrings', difficulty: 'Medium', leetcode: '647', url: 'https://leetcode.com/problems/palindromic-substrings/' },
          { id: 'decode-ways', name: 'Decode Ways', difficulty: 'Medium', leetcode: '91', url: 'https://leetcode.com/problems/decode-ways/' },
          { id: 'coin-change', name: 'Coin Change', difficulty: 'Medium', leetcode: '322', url: 'https://leetcode.com/problems/coin-change/' },
          { id: 'max-product', name: 'Maximum Product Subarray', difficulty: 'Medium', leetcode: '152', url: 'https://leetcode.com/problems/maximum-product-subarray/' },
          { id: 'word-break', name: 'Word Break', difficulty: 'Medium', leetcode: '139', url: 'https://leetcode.com/problems/word-break/' },
          { id: 'lis', name: 'Longest Increasing Subsequence', difficulty: 'Medium', leetcode: '300', url: 'https://leetcode.com/problems/longest-increasing-subsequence/' },
          { id: 'partition-equal', name: 'Partition Equal Subset Sum', difficulty: 'Medium', leetcode: '416', url: 'https://leetcode.com/problems/partition-equal-subset-sum/' }
        ]
      },
      {
        id: 'dp-2d', name: '2-D Dynamic Programming', week: 10,
        tip: 'Visualize as grid, each cell depends on previous',
        problems: [
          { id: 'unique-paths', name: 'Unique Paths', difficulty: 'Medium', leetcode: '62', url: 'https://leetcode.com/problems/unique-paths/' },
          { id: 'lcs', name: 'Longest Common Subsequence', difficulty: 'Medium', leetcode: '1143', url: 'https://leetcode.com/problems/longest-common-subsequence/' },
          { id: 'target-sum', name: 'Target Sum', difficulty: 'Medium', leetcode: '494', url: 'https://leetcode.com/problems/target-sum/' },
          { id: 'interleaving-string', name: 'Interleaving String', difficulty: 'Medium', leetcode: '97', url: 'https://leetcode.com/problems/interleaving-string/' },
          { id: 'coin-change-ii', name: 'Coin Change II', difficulty: 'Medium', leetcode: '518', url: 'https://leetcode.com/problems/coin-change-ii/' },
          { id: 'edit-distance', name: 'Edit Distance', difficulty: 'Medium', leetcode: '72', url: 'https://leetcode.com/problems/edit-distance/' },
          { id: 'distinct-subseq', name: 'Distinct Subsequences', difficulty: 'Hard', leetcode: '115', url: 'https://leetcode.com/problems/distinct-subsequences/' },
          { id: 'burst-balloons', name: 'Burst Balloons', difficulty: 'Hard', leetcode: '312', url: 'https://leetcode.com/problems/burst-balloons/' },
          { id: 'regex-matching', name: 'Regular Expression Matching', difficulty: 'Hard', leetcode: '10', url: 'https://leetcode.com/problems/regular-expression-matching/' }
        ]
      }
    ];

    // Math & ML Data
    const MATH_TOPICS = [
      { id: 'calculus', name: 'üìê Calculus', topics: ['Derivatives', 'Chain Rule', 'Gradients', 'Partial Derivatives'], url: 'https://www.youtube.com/playlist?list=PLZHQObOWTQDMsr9K-rj53DwVRMYO3t5Yr' },
      { id: 'linear-algebra', name: 'üî¢ Linear Algebra', topics: ['Vectors', 'Matrix Ops', 'Eigenvalues', 'SVD'], url: 'https://www.youtube.com/playlist?list=PLZHQObOWTQDPD3MizzM2xVFitgF8hE_ab' },
      { id: 'probability', name: 'üé≤ Probability', topics: ['Bayes', 'Distributions', 'MLE', 'Expected Value'], url: 'https://www.youtube.com/c/joshstarmer' }
    ];

    const ML_COURSES = [
      { id: 'cs229', name: 'CS229: Machine Learning', url: 'https://www.youtube.com/playlist?list=PLoROMvodv4rMiGQp3WXShtMGgzqpfVfbU', critical: true },
      { id: 'cs224n', name: 'CS224n: NLP with Deep Learning', url: 'https://www.youtube.com/playlist?list=PLoROMvodv4rOSH4v6133s9LFPRHjEmbmJ', critical: true },
      { id: 'transformers', name: 'Karpathy: Build GPT from Scratch', url: 'https://www.youtube.com/watch?v=kCc8FmEb1nY', critical: true },
      { id: 'cs231n', name: 'CS231n: CNNs', url: 'https://www.youtube.com/playlist?list=PL3FW7Lu3i5JvHM8ljYj-zLfQRF3EO8sYv', critical: false },
      { id: 'rlhf', name: 'RLHF & Constitutional AI', url: 'https://www.anthropic.com/research', critical: true }
    ];

    const GHOST_MILESTONES = [
      { id: 'cli', name: 'Rust CLI MVP', week: 2 },
      { id: 'device', name: 'Device Bridge', week: 4 },
      { id: 'screenshot', name: 'Screenshot Capture', week: 5 },
      { id: 'deepseek', name: 'DeepSeek-VL Integration', week: 6 },
      { id: 'actions', name: 'Action Execution', week: 8 },
      { id: 'dsl', name: 'Test DSL', week: 10 },
      { id: 'backend', name: 'Supabase Backend', week: 11 },
      { id: 'beta', name: 'Beta Launch üöÄ', week: 12 }
    ];

    // Google Drive API Functions
    const DriveAPI = {
      accessToken: null,
      
      setToken(token) {
        this.accessToken = token;
      },

      async findFile() {
        if (!this.accessToken) return null;
        try {
          const response = await fetch(
            `https://www.googleapis.com/drive/v3/files?q=name='${DRIVE_FILE_NAME}' and trashed=false&spaces=appDataFolder`,
            { headers: { Authorization: `Bearer ${this.accessToken}` } }
          );
          const data = await response.json();
          return data.files?.[0]?.id || null;
        } catch (e) {
          console.error('Find file error:', e);
          return null;
        }
      },

      async loadProgress() {
        if (!this.accessToken) return null;
        try {
          const fileId = await this.findFile();
          if (!fileId) return null;
          
          const response = await fetch(
            `https://www.googleapis.com/drive/v3/files/${fileId}?alt=media`,
            { headers: { Authorization: `Bearer ${this.accessToken}` } }
          );
          return await response.json();
        } catch (e) {
          console.error('Load error:', e);
          return null;
        }
      },

      async saveProgress(progress) {
        if (!this.accessToken) return false;
        try {
          const fileId = await this.findFile();
          const metadata = { name: DRIVE_FILE_NAME, mimeType: 'application/json' };
          
          if (!fileId) {
            metadata.parents = ['appDataFolder'];
          }
          
          const form = new FormData();
          form.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));
          form.append('file', new Blob([JSON.stringify(progress)], { type: 'application/json' }));

          const url = fileId 
            ? `https://www.googleapis.com/upload/drive/v3/files/${fileId}?uploadType=multipart`
            : 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart';
          
          await fetch(url, {
            method: fileId ? 'PATCH' : 'POST',
            headers: { Authorization: `Bearer ${this.accessToken}` },
            body: form
          });
          return true;
        } catch (e) {
          console.error('Save error:', e);
          return false;
        }
      }
    };

    function App() {
      const [progress, setProgress] = useState(initialProgress);
      const [user, setUser] = useState(null);
      const [syncStatus, setSyncStatus] = useState('idle'); // idle, syncing, synced, error
      const [lastLoginFromCloud, setLastLoginFromCloud] = useState(null);
      const [activeTab, setActiveTab] = useState('overview');
      const [expandedPattern, setExpandedPattern] = useState(null);
      const saveTimeoutRef = useRef(null);

      // Format date for display with timezone offset
      const formatLoginTime = (isoString) => {
        if (!isoString) return null;
        const date = new Date(isoString);
        const options = { 
          weekday: 'short',
          year: 'numeric', 
          month: 'short', 
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit',
          hour12: true
        };
        const formattedDate = date.toLocaleString(undefined, options);
        
        // Get timezone offset in hours and minutes
        const offset = -date.getTimezoneOffset();
        const offsetHours = Math.floor(Math.abs(offset) / 60);
        const offsetMins = Math.abs(offset) % 60;
        const offsetSign = offset >= 0 ? '+' : '-';
        const offsetStr = `UTC${offsetSign}${offsetHours}:${offsetMins.toString().padStart(2, '0')}`;
        
        // Get timezone abbreviation
        const tzAbbr = date.toLocaleTimeString('en-US', { timeZoneName: 'short' }).split(' ').pop();
        
        return `${formattedDate} (${tzAbbr} ${offsetStr})`;
      };

      // Initialize Google Sign-In
      useEffect(() => {
        if (GOOGLE_CLIENT_ID === 'YOUR_CLIENT_ID.apps.googleusercontent.com') {
          console.log('Google Client ID not configured - using local storage only');
          return;
        }

        const initGoogle = () => {
          if (window.google?.accounts) {
            window.google.accounts.id.initialize({
              client_id: GOOGLE_CLIENT_ID,
              callback: handleGoogleSignIn,
              auto_select: true
            });
            // Show the sign-in prompt automatically
            window.google.accounts.id.prompt();
          } else {
            setTimeout(initGoogle, 100);
          }
        };
        initGoogle();
      }, []);

      // Load from localStorage on mount
      useEffect(() => {
        try {
          const saved = localStorage.getItem(STORAGE_KEY);
          if (saved) setProgress(JSON.parse(saved));
        } catch (e) {}
      }, []);

      const handleGoogleSignIn = async (response) => {
        try {
          // Decode JWT to get user info
          const payload = JSON.parse(atob(response.credential.split('.')[1]));
          setUser({ name: payload.name, email: payload.email, picture: payload.picture });

          // Get access token for Drive API
          const tokenClient = window.google.accounts.oauth2.initTokenClient({
            client_id: GOOGLE_CLIENT_ID,
            scope: 'https://www.googleapis.com/auth/drive.appdata',
            callback: async (tokenResponse) => {
              DriveAPI.setToken(tokenResponse.access_token);
              setSyncStatus('syncing');
              
              // Load from Drive
              const driveProgress = await DriveAPI.loadProgress();
              if (driveProgress) {
                // Store the previous login time to display
                if (driveProgress.lastLogin) {
                  setLastLoginFromCloud(driveProgress.lastLogin);
                }
                
                // Use the most recent version
                const localProgress = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
                const useCloud = new Date(driveProgress.lastUpdated || 0) > new Date(localProgress.lastUpdated || 0);
                if (useCloud) {
                  setProgress(driveProgress);
                  localStorage.setItem(STORAGE_KEY, JSON.stringify(driveProgress));
                }
              }
              
              // Now save the NEW login timestamp
              const currentLogin = new Date().toISOString();
              const updatedProgress = { 
                ...progress, 
                lastLogin: currentLogin,
                lastUpdated: currentLogin 
              };
              setProgress(updatedProgress);
              localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedProgress));
              await DriveAPI.saveProgress(updatedProgress);
              
              setSyncStatus('synced');
            }
          });
          tokenClient.requestAccessToken();
        } catch (e) {
          console.error('Sign in error:', e);
        }
      };

      const signIn = () => {
        if (GOOGLE_CLIENT_ID === 'YOUR_CLIENT_ID.apps.googleusercontent.com') {
          alert('Google Client ID not configured. See setup instructions below.');
          return;
        }
        // Prompt doesn't work after sign-out, so reload the page to reset Google's state
        window.location.reload();
      };

      const signOut = () => {
        setUser(null);
        DriveAPI.setToken(null);
        setSyncStatus('idle');
        setLastLoginFromCloud(null);
        // Clear Google's cached state
        if (window.google?.accounts?.id) {
          window.google.accounts.id.disableAutoSelect();
        }
      };

      // Save with debounce
      const saveProgress = useCallback((newProgress) => {
        const updated = { ...newProgress, lastUpdated: new Date().toISOString() };
        setProgress(updated);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));

        // Debounced cloud save
        if (DriveAPI.accessToken) {
          setSyncStatus('syncing');
          clearTimeout(saveTimeoutRef.current);
          saveTimeoutRef.current = setTimeout(async () => {
            const success = await DriveAPI.saveProgress(updated);
            setSyncStatus(success ? 'synced' : 'error');
          }, 2000);
        }
      }, []);

      // Toggle functions
      const toggleProblem = (patternId, problemId) => {
        const newProgress = { ...progress };
        if (!newProgress.dsa.patterns[patternId]) newProgress.dsa.patterns[patternId] = {};
        newProgress.dsa.patterns[patternId][problemId] = !newProgress.dsa.patterns[patternId][problemId];
        let total = 0;
        Object.values(newProgress.dsa.patterns).forEach(p => total += Object.values(p).filter(Boolean).length);
        newProgress.dsa.problemsSolved = total;
        saveProgress(newProgress);
      };

      const toggleMath = (topicId, subtopic) => {
        const newProgress = { ...progress };
        if (!newProgress.math.topics[topicId]) newProgress.math.topics[topicId] = {};
        newProgress.math.topics[topicId][subtopic] = !newProgress.math.topics[topicId][subtopic];
        saveProgress(newProgress);
      };

      const toggleCourse = (courseId) => {
        const newProgress = { ...progress };
        newProgress.ml.courses[courseId] = !newProgress.ml.courses[courseId];
        saveProgress(newProgress);
      };

      const toggleMilestone = (milestoneId) => {
        const newProgress = { ...progress };
        newProgress.ghost.milestones[milestoneId] = !newProgress.ghost.milestones[milestoneId];
        saveProgress(newProgress);
      };

      // Export for manual backup
      const exportProgress = () => {
        const blob = new Blob([JSON.stringify(progress, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `training-progress-${new Date().toISOString().split('T')[0]}.json`;
        a.click();
      };

      // Stats
      const totalProblems = DSA_PATTERNS.reduce((acc, p) => acc + p.problems.length, 0);
      const solvedProblems = progress.dsa.problemsSolved || 0;
      const completedCourses = Object.values(progress.ml.courses || {}).filter(Boolean).length;
      const completedMilestones = Object.values(progress.ghost.milestones || {}).filter(Boolean).length;

      const getDifficultyColor = (d) => ({
        'Easy': 'text-green-700 bg-green-100',
        'Medium': 'text-yellow-700 bg-yellow-100',
        'Hard': 'text-red-700 bg-red-100'
      }[d] || 'bg-gray-100');

      const tabs = [
        { id: 'overview', name: 'üìä Overview' },
        { id: 'dsa', name: 'üíª DSA' },
        { id: 'math', name: 'üìê Math' },
        { id: 'ml', name: 'üß† ML/AI' },
        { id: 'ghost', name: 'üëª Ghost' }
      ];

      return (
        <div className="min-h-screen bg-gray-50 p-3 md:p-6">
          <div className="max-w-5xl mx-auto">
            {/* Header */}
            <div className="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-5 mb-5 text-white shadow-lg">
              {/* Last Login Banner */}
              {user && (
                <div className="bg-white/10 rounded-lg px-3 py-2 mb-4 text-sm flex items-center gap-2">
                  <span>{lastLoginFromCloud ? '‚úÖ' : 'üéâ'}</span>
                  <span>{lastLoginFromCloud
                    ? <>Last synced: <strong>{formatLoginTime(lastLoginFromCloud)}</strong></>
                    : <strong>Welcome! This is your first login.</strong>
                  }</span>
                </div>
              )}
              
              <div className="flex flex-wrap items-center justify-between gap-4">
                <div>
                  <h1 className="text-xl md:text-2xl font-bold">üöÄ Sharmin's Training Dashboard</h1>
                  <p className="text-sm opacity-90">90-Day FAANG/Anthropic Prep</p>
                </div>
                
                {/* Auth & Sync Status */}
                <div className="flex items-center gap-3">
                  {user ? (
                    <div className="flex items-center gap-2 bg-white/20 rounded-lg px-3 py-2">
                      <img src={user.picture} alt="" className="w-6 h-6 rounded-full" />
                      <span className="text-sm hidden sm:inline">{user.name.split(' ')[0]}</span>
                      <div className={`w-2 h-2 rounded-full ${
                        syncStatus === 'synced' ? 'bg-green-400' :
                        syncStatus === 'syncing' ? 'bg-yellow-400 animate-pulse' :
                        syncStatus === 'error' ? 'bg-red-400' : 'bg-gray-400'
                      }`} title={syncStatus} />
                      <button onClick={signOut} className="text-xs opacity-70 hover:opacity-100">‚úï</button>
                    </div>
                  ) : (
                    <button onClick={signIn} className="bg-white text-indigo-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-50 flex items-center gap-2">
                      <CloudSync size={16} /> Sign in with Google
                    </button>
                  )}
                </div>
              </div>

              {/* Stats */}
              <div className="grid grid-cols-4 gap-2 md:gap-4 mt-5">
                <div className="bg-white/20 rounded-lg p-2 md:p-3 text-center">
                  <div className="text-lg md:text-2xl font-bold">{solvedProblems}/{totalProblems}</div>
                  <div className="text-xs opacity-90">Problems</div>
                </div>
                <div className="bg-white/20 rounded-lg p-2 md:p-3 text-center">
                  <div className="text-lg md:text-2xl font-bold">{completedCourses}/{ML_COURSES.length}</div>
                  <div className="text-xs opacity-90">ML Courses</div>
                </div>
                <div className="bg-white/20 rounded-lg p-2 md:p-3 text-center">
                  <div className="text-lg md:text-2xl font-bold">{completedMilestones}/{GHOST_MILESTONES.length}</div>
                  <div className="text-xs opacity-90">Ghost</div>
                </div>
                <div className="bg-white/20 rounded-lg p-2 md:p-3 text-center">
                  <div className="text-lg md:text-2xl font-bold">{Math.round((solvedProblems / totalProblems) * 100)}%</div>
                  <div className="text-xs opacity-90">DSA Done</div>
                </div>
              </div>
            </div>

            {/* Tabs */}
            <div className="flex flex-wrap gap-2 mb-4">
              {tabs.map(t => (
                <button
                  key={t.id}
                  onClick={() => setActiveTab(t.id)}
                  className={`px-3 py-2 rounded-lg text-sm font-medium transition-all ${
                    activeTab === t.id ? 'bg-indigo-600 text-white' : 'bg-white text-gray-600 hover:bg-gray-100'
                  }`}
                >
                  {t.name}
                </button>
              ))}
              
              {/* Export */}
              <div className="ml-auto">
                <button onClick={exportProgress} className="px-3 py-2 rounded-lg text-sm bg-white text-gray-600 hover:bg-gray-100">
                  üì• Export
                </button>
              </div>
            </div>

            {/* Content */}
            <div className="bg-white rounded-xl shadow p-4 md:p-6">
              
              {/* Overview */}
              {activeTab === 'overview' && (
                <div className="space-y-5">
                  <div className="bg-amber-50 border border-amber-200 rounded-xl p-4">
                    <h3 className="font-bold text-amber-800">‚≠ê Today's Focus</h3>
                    <div className="grid sm:grid-cols-2 gap-3 mt-3">
                      <div className="bg-white rounded-lg p-3 text-sm">
                        <strong className="text-amber-700">üíª DSA:</strong> 3 problems from current pattern
                      </div>
                      <div className="bg-white rounded-lg p-3 text-sm">
                        <strong className="text-amber-700">üìê Math:</strong> 1 video from 3Blue1Brown
                      </div>
                      <div className="bg-white rounded-lg p-3 text-sm">
                        <strong className="text-amber-700">üß† ML:</strong> 1-2 lecture videos
                      </div>
                      <div className="bg-white rounded-lg p-3 text-sm">
                        <strong className="text-amber-700">üëª Ghost:</strong> 1 hour of coding
                      </div>
                    </div>
                  </div>
                  
                  <div className="grid sm:grid-cols-2 gap-4">
                    <div className="border rounded-xl p-4">
                      <h4 className="font-bold text-indigo-700 mb-2">üéØ Anthropic Prep</h4>
                      <ul className="text-sm space-y-1 text-gray-600">
                        <li>‚Ä¢ Constitutional AI paper</li>
                        <li>‚Ä¢ RLHF deep understanding</li>
                        <li>‚Ä¢ Interpretability research</li>
                        <li>‚Ä¢ Transformer architecture</li>
                      </ul>
                    </div>
                    <div className="border rounded-xl p-4">
                      <h4 className="font-bold text-emerald-700 mb-2">üí™ Your Advantages</h4>
                      <ul className="text-sm space-y-1 text-gray-600">
                        <li>‚Ä¢ 10+ years production experience</li>
                        <li>‚Ä¢ Talabat 60K orders/day scale</li>
                        <li>‚Ä¢ Payment systems expertise</li>
                        <li>‚Ä¢ Ghost = unique portfolio piece</li>
                      </ul>
                    </div>
                  </div>
                </div>
              )}

              {/* DSA */}
              {activeTab === 'dsa' && (
                <div className="space-y-3">
                  {DSA_PATTERNS.map(pattern => {
                    const patternProgress = progress.dsa.patterns?.[pattern.id] || {};
                    const solved = Object.values(patternProgress).filter(Boolean).length;
                    const isExpanded = expandedPattern === pattern.id;
                    
                    return (
                      <div key={pattern.id} className="border rounded-xl overflow-hidden">
                        <button
                          onClick={() => setExpandedPattern(isExpanded ? null : pattern.id)}
                          className="w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100"
                        >
                          <div className="flex items-center gap-2">
                            {isExpanded ? <ChevronDown size={18} /> : <ChevronRight size={18} />}
                            <span className="font-medium">{pattern.name}</span>
                            <span className="text-xs bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded-full">W{pattern.week}</span>
                          </div>
                          <div className="flex items-center gap-2">
                            <div className="w-20 bg-gray-200 rounded-full h-1.5">
                              <div className={`h-1.5 rounded-full ${solved === pattern.problems.length ? 'bg-green-500' : 'bg-indigo-600'}`} 
                                   style={{ width: `${(solved / pattern.problems.length) * 100}%` }} />
                            </div>
                            <span className="text-xs text-gray-500 w-8">{solved}/{pattern.problems.length}</span>
                          </div>
                        </button>
                        
                        {isExpanded && (
                          <div className="p-3 border-t">
                            <div className="bg-blue-50 text-blue-700 text-xs p-2 rounded mb-3">üí° {pattern.tip}</div>
                            {pattern.problems.map(p => (
                              <div key={p.id} className="flex items-center justify-between py-2 border-b last:border-0">
                                <div className="flex items-center gap-2">
                                  <button onClick={() => toggleProblem(pattern.id, p.id)}>
                                    {patternProgress[p.id] ? <CheckCircle size={20} className="text-green-500" /> : <Circle size={20} className="text-gray-300" />}
                                  </button>
                                  <span className={patternProgress[p.id] ? 'line-through text-gray-400' : ''}>{p.name}</span>
                                  <span className={`text-xs px-1.5 py-0.5 rounded ${getDifficultyColor(p.difficulty)}`}>{p.difficulty}</span>
                                </div>
                                <a href={p.url} target="_blank" rel="noopener noreferrer" className="text-indigo-600 text-sm flex items-center gap-1">
                                  #{p.leetcode} <ExternalLink />
                                </a>
                              </div>
                            ))}
                          </div>
                        )}
                      </div>
                    );
                  })}
                </div>
              )}

              {/* Math */}
              {activeTab === 'math' && (
                <div className="space-y-4">
                  {MATH_TOPICS.map(topic => {
                    const topicProgress = progress.math.topics?.[topic.id] || {};
                    return (
                      <div key={topic.id} className="border rounded-xl p-4">
                        <div className="flex justify-between items-center mb-3">
                          <h4 className="font-bold">{topic.name}</h4>
                          <a href={topic.url} target="_blank" rel="noopener noreferrer" className="text-indigo-600 text-sm flex items-center gap-1">
                            <Play size={14} /> Watch
                          </a>
                        </div>
                        <div className="flex flex-wrap gap-2">
                          {topic.topics.map(t => (
                            <button
                              key={t}
                              onClick={() => toggleMath(topic.id, t)}
                              className={`px-3 py-1.5 rounded-full text-sm ${
                                topicProgress[t] ? 'bg-green-500 text-white' : 'bg-gray-100 hover:bg-gray-200'
                              }`}
                            >
                              {topicProgress[t] && '‚úì '}{t}
                            </button>
                          ))}
                        </div>
                      </div>
                    );
                  })}
                </div>
              )}

              {/* ML */}
              {activeTab === 'ml' && (
                <div className="space-y-3">
                  {ML_COURSES.map(course => (
                    <div key={course.id} className={`border rounded-xl p-4 flex items-center justify-between ${progress.ml.courses?.[course.id] ? 'bg-green-50' : ''}`}>
                      <div className="flex items-center gap-3">
                        <button onClick={() => toggleCourse(course.id)}>
                          {progress.ml.courses?.[course.id] ? <CheckCircle size={24} className="text-green-500" /> : <Circle size={24} className="text-gray-300" />}
                        </button>
                        <div>
                          <div className="font-medium">{course.name}</div>
                          {course.critical && <span className="text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full">Critical for Anthropic</span>}
                        </div>
                      </div>
                      <a href={course.url} target="_blank" rel="noopener noreferrer" className="text-indigo-600 flex items-center gap-1">
                        <ExternalLink />
                      </a>
                    </div>
                  ))}
                </div>
              )}

              {/* Ghost */}
              {activeTab === 'ghost' && (
                <div className="space-y-2">
                  {GHOST_MILESTONES.map((m, i) => (
                    <div key={m.id} className="flex items-center gap-3">
                      <button
                        onClick={() => toggleMilestone(m.id)}
                        className={`w-10 h-10 rounded-full flex items-center justify-center font-bold ${
                          progress.ghost.milestones?.[m.id] ? 'bg-emerald-500 text-white' : 'bg-gray-200'
                        }`}
                      >
                        {progress.ghost.milestones?.[m.id] ? '‚úì' : i + 1}
                      </button>
                      <div className={`flex-1 p-3 rounded-lg ${progress.ghost.milestones?.[m.id] ? 'bg-emerald-50' : 'bg-gray-50'}`}>
                        <div className="flex justify-between">
                          <span className="font-medium">{m.name}</span>
                          <span className="text-sm text-gray-500">Week {m.week}</span>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              )}
            </div>

            {/* Setup Instructions */}
            {GOOGLE_CLIENT_ID === 'YOUR_CLIENT_ID.apps.googleusercontent.com' && (
              <div className="mt-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4">
                <h4 className="font-bold text-yellow-800 mb-2">‚ö†Ô∏è Setup Google Drive Sync (One-time, 5 mins)</h4>
                <ol className="text-sm text-yellow-700 space-y-1 list-decimal ml-4">
                  <li>Go to <a href="https://console.cloud.google.com" target="_blank" className="underline">Google Cloud Console</a></li>
                  <li>Create a new project (e.g., "Training Dashboard")</li>
                  <li>Go to APIs & Services ‚Üí Enable "Google Drive API"</li>
                  <li>Go to Credentials ‚Üí Create OAuth 2.0 Client ID</li>
                  <li>Set Application type: "Web application"</li>
                  <li>Add your GitHub Pages URL to "Authorized JavaScript origins" (e.g., https://yourusername.github.io)</li>
                  <li>Copy the Client ID and replace YOUR_CLIENT_ID in this file</li>
                  <li>Go to OAuth consent screen ‚Üí Add your email as test user</li>
                </ol>
                <p className="text-xs text-yellow-600 mt-2">Until configured, your progress saves locally and can be exported/imported manually.</p>
              </div>
            )}

            <div className="mt-4 text-center text-xs text-gray-400">
              Auto-saves to {user ? 'Google Drive' : 'browser'} ‚Ä¢ Built for FAANG/Anthropic prep üöÄ
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
